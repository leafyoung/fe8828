---
title: "Calculation of option portfolio value"
author: 'Toh Zhao Zhi <sub> <Email: tohz0016pg@e.ntu.edu.sg> </sub>'
date: "Nov 19, 2017"
output: html_notebook
---

```{r, include = FALSE}
#Load libraries
library(dplyr)
library(tidyr)
library(fOptions)
```

```{r}
df <- data.frame(type = sample(c("c","p"), 100, replace = T), 
                 strike = round(runif(100)*100,0),
                 underlying = round(runif(100)*100,0), 
                 Time = 1,
                 r = 0.01,
                 b = 0,
                 sigma = 0.3)
rowwise(df) %>% mutate(optPx = GBSOption(TypeFlag = type, S = underlying, X = strike, Time = Time, r = r, b = b, sigma = sigma)@price) %>% ungroup() %>% summarize(portval = sum(optPx)) -> portval

```

The value of the portfolio is $`r portval$portval`